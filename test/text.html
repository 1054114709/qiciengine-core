<!DOCTYPE html>
<html>
<head>
    <title>文本组件</title>
    <meta charset="UTF-8">

    <style type="text/css">
        div { padding: 10px; font-size: 1.5em; }
    </style>

    <script src="../lib/phaser.js" type="text/javascript"></script>
    <script src="../build/qc-core-debug.js" type="text/javascript"></script>
</head>
<body>
<script type="application/javascript" src="js/builtinStartGame.js"></script>

<script type="application/javascript">
    game._onFirstScenePreload = function() {
        // 加载字体
        game.assets.load('defaultFont', 'assets/bitmapFonts/desyrel.bin');
    };

    game._onFirstSceneLoaded = function() {
        var text = game.add.text();
        text.fill = "#FF0000";
        text.addScript('TestComponent');
    };

    // 测试脚本
    var TestComponent = qc.defineBehaviour('TestComponent', qc.Behaviour);
    TestComponent.prototype.awake = function() {
        var t = this.gameObject;
        t.text = "初始时的文本内容，什么配置都没有";

        // 测试的内容
        var cases = [
            { "color" : 16711680, "text" : "红色文本，非加粗, 动态字体，大小10px, 换行。[#FFFFFF]白色的字[#000000]黑色[-][-]", "bold" : false, "font" : "normal", "size" : 30, "wrap" : true },
            { "color" : 0, "text" : "黑色文本，加粗，[#FF0000]大小2em[-]，不换行。", "bold" : true, "font" : "defaultFont", "size" : 50, "wrap" : false },
        ];
        var curr = 0;
        game.timer.loop(2000, function() {
            // 不停的变更
            var config = cases[curr++];
            if (curr >= cases.length) curr = 0;

            t.text = config.text;
            t.color = new qc.Color(config.color);
            t.bold = config.bold;
            t.fontSize = config.size;
            t.wrap = config.wrap;
            t.font = config.font;
        }, this);
    }
</script>
</body>
</html>
