<!DOCTYPE html>
<html>
<head>
    <title>声音组件</title>
    <meta charset="UTF-8">

    <style type="text/css">
        div { padding: 10px; font-size: 1.5em; }
    </style>

    <script src="../../lib/phaser.js" type="text/javascript"></script>
    <script src="../../build/qc-core-debug.js" type="text/javascript"></script>
    <script src="../../lib/qc-widget.js" type="text/javascript"></script>
    <script src="../GameView.js" type="text/javascript"></script>
    <script src="GameData.js" type="text/javascript"></script>
    <script src="../GameTree.js" type="text/javascript"></script>
    <script src="GameTable.js" type="text/javascript"></script>

    <script>

        function init() {
            game = new qc.Game(800, 600, "", {
                init: function() {
                    world = game.world;
                    tree = new GameTree(game);
                    table = new GameTable(tree.dataModel);
                    gameView = new GameView(game);

                    var button = new qc.widget.Button();
                    button.text = '播放音乐';
                    button.on('click', function() {
                        sound.play();
                    });

                    toolbar = new qc.widget.Toolbar();
                    toolbar.setItems([button]);

                    container = new qc.widget.Container();
                    container.layout = new qc.widget.layout.BorderLayout(container);
                    container.setItems([
                        {
                            region: 'top',
                            element: toolbar
                        },
                        {
                            region: 'left',
                            element: tree,
                            width: 200
                        },
                        {
                            region: 'center',
                            element: gameView
                        },
                        {
                            region: 'right',
                            element: table,
                            width: 200
                        }
                    ]);
                    container.addToDOM();
                },
                preload: function() {
                    game.assets.load("ov", ['../assets/audio/ov.mp3.bin']);
                },
                create: function() {
                    sound = game.add.sound();
                    sound.audio = game.assets.find('ov');

                    tree.expandAll();

                },
                update: function() {
                    table.iv();
                }
            });
        }
    </script>

</head>
<body onload="init();">

</body>
</html>
