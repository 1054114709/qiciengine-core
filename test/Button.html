<!DOCTYPE html>
<html>
<head>
    <title>Button组件</title>
    <meta charset="UTF-8">

    <style type="text/css">
        div { padding: 10px; font-size: 1.5em; }
    </style>

    <script src="../lib/phaser.js" type="text/javascript"></script>
    <script src="../build/qc-core-debug.js" type="text/javascript"></script>
</head>
<body>
<script type="application/javascript" src="js/builtinStartGame.js"></script>

<script>
    var Assets = qc.Assets;
    var UIButton = qc.Button;
    var Transition = qc.Transition;
    var State = qc.UIState;
    game._onFirstScenePreload = function() {
        game.assets.load('monsters', 'assets/sprites/pixi_monsters.bin');
        game.assets.load('ui', 'assets/sprites/ui.bin');
    }

    game._onFirstSceneLoaded = function() {
        // 使用图片变换
        button1 = game.add.button();
        button1.texture = game.assets.find('monsters');
        button1.text.text = '图片变换按钮';
        button1.frame = 'eggHead.png';
        var c = button1.getScript('qc.TransitionBehaviour');
        c.normalTexture = 'eggHead.png';
        c.pressedTexture = 'flowerTop.png';
        c.disabledTexture = 'helmlok.png';
        c.transition = Transition.TEXTURE_SWAP;

        button1.onClick.add(function() {
            console.log('按钮1被点击啦');
        });

        // 使用颜色变换
        button2 = game.add.button();
        button2.texture = game.assets.find('ui');
        button2.text.text = '[#ffffff]颜色变换[-]';
        button2.frame = 'buttonBackground.png';
        var c = button2.getScript('qc.TransitionBehaviour');
        c.normalColor = new qc.Color(0xffffff);
        c.pressedTexture = new qc.Color(0x000000);
        c.disabledTexture = new qc.Color(0xff0000);
        c.transition = Transition.COLOR_TINT;
        button2.x = 200;
        button2.y = 200;
    }
</script>
</body>
</html>
